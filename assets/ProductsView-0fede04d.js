import{_ as u,e as p,r as g,o as s,c as o,d as t,F as m,f as k,n as P,t as l,a as b,w as y,b as v}from"./index-c31c9812.js";const{VITE_APP_URL:i,VITE_APP_PATH:r}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"cream21",BASE_URL:"/vite_week_6/",MODE:"production",DEV:!1,PROD:!0},$={data(){return{products:[]}},methods:{getProducts(){this.$http.get(`${i}/v2/api/${r}/products/all`).then(n=>{this.products=n.data.products,console.log("產品列表",this.products)})},addToCart(n){const c={product_id:n,qty:1};this.$http.post(`${i}/v2/api/${r}/cart`,{data:c}).then(a=>{console.log("加入購物車:",a.data)}).catch(a=>{console.log(a.data)})}},components:{RouterLink:p},mounted(){this.getProducts()}},f={class:"table align-middle"},T=t("thead",null,[t("tr",null,[t("th",null,"圖片"),t("th",null,"商品名稱"),t("th",null,"價格"),t("th")])],-1),V={style:{width:"200px"}},x={key:0,class:"h5"},E={key:1},A={class:"h6"},C={class:"h5"},w=["onClick"];function I(n,c,a,L,d,_){const h=g("router-link");return s(),o("table",f,[T,t("tbody",null,[(s(!0),o(m,null,k(d.products,e=>(s(),o("tr",{key:e.id},[t("td",V,[t("div",{style:P([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${e.imageUrl})`}])},null,4)]),t("td",null,l(e.title),1),t("td",null,[e.price===e.origin_price?(s(),o("div",x,l(e.price)+" 元 ",1)):(s(),o("div",E,[t("del",A,"原價 "+l(e.origin_price)+" 元",1),t("div",C,"現在只要 "+l(e.price)+" 元",1)]))]),t("td",null,[b(h,{to:`./product/${e.id}`,class:"btn btn-primary"},{default:y(()=>[v("查看詳細內頁")]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-secondary",onClick:R=>_.addToCart(e.id)}," 加入購物車 ",8,w)])]))),128))])])}const D=u($,[["render",I]]);export{D as default};
